(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{368:function(t,a,s){"use strict";s.r(a);var e=s(25),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"复读机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复读机"}},[t._v("#")]),t._v(" 复读机")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("如果要发送图片，请使用 酷Q Pro 版本。"),s("br"),t._v("\n同时保证所有配置文件在 UTF-8 编码下保存。"),s("br"),t._v("\n若为 ANSI ，可使用 NotePad++ 编码 -> 转为 UTF-8")])]),t._v(" "),s("h2",{attrs:{id:"部署流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署流程"}},[t._v("#")]),t._v(" 部署流程")]),t._v(" "),s("h3",{attrs:{id:"解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[t._v("#")]),t._v(" 解压")]),t._v(" "),s("p",[t._v("将 "),s("a",{attrs:{href:"https://github.com/fz6m/nonebot-plugin/releases/download/0.1/Repeater.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("本插件"),s("OutboundLink")],1),t._v(" 下载解压，将解压得到的 "),s("code",[t._v("CQrepeater")]),t._v(" 文件夹放在 酷Q 根目录下，为了保证路径不出错误，还要检查如下事项："),s("br"),t._v("\n保证你的 NoneBot 主程序 "),s("code",[t._v("main.py(这里假设为main.py)")]),t._v(" 和 "),s("code",[t._v("repeater")]),t._v(" 以及 "),s("code",[t._v("repeater_data")]),t._v(" 两个文件夹在同一级目录，文件夹 "),s("code",[t._v("CQrepeater")]),t._v(" 里已经包含了一个示例主程序 "),s("code",[t._v("main.py")]),t._v(" 可供参考，如果你还有其他插件，你可以直接把 "),s("code",[t._v("main.py")]),t._v(" 中有关导入本插件的部分拷贝进你的主程序 "),s("code",[t._v("_.py")]),t._v(" 文件。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#导入本插件")]),t._v("\n    nonebot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'repeater'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'repeater'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("repeater_data/")]),t._v(" 文件夹中，几个文件的配置方法如下：")]),t._v(" "),s("h4",{attrs:{id:"gjc-no-txt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gjc-no-txt"}},[t._v("#")]),t._v(" "),s("code",[t._v("gjc_no.txt")]),t._v(" :")]),t._v(" "),s("p",[t._v("在本文件内可填入屏蔽复读机的群号，一个群号占一行。")]),t._v(" "),s("h4",{attrs:{id:"gjc-txt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gjc-txt"}},[t._v("#")]),t._v(" "),s("code",[t._v("gjc.txt")]),t._v(" :")]),t._v(" "),s("p",[t._v("可以设定额外的回复关键词，每个关键词为一行，如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("key")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("触发关键词")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("model")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("model = 1 为精确匹配，0 为模糊匹配(含有即可)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("lock")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是否需要锁定，lock = 1 为含锁，当含锁的关键词被触发一次后，下次需要在 60 s 后才能被再次触发，一般用于语音等敏感消息")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("sendMsg")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("回复消息内容，可以使用 CQ码 回复语音，图片等")])])])]),t._v(" "),s("p",[t._v("格式：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    key model lock sendMsg\n")])])]),s("p",[t._v("例子：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    早 0 1 [CQ:record,file=alice.silk]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("这个复读机插件本身包含复读2次就会 +1 的功能。")])]),t._v(" "),s("h2",{attrs:{id:"更改锁定时长"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改锁定时长"}},[t._v("#")]),t._v(" 更改锁定时长")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("repeater/__init__.py")]),t._v(" 中，有这么一部分：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("    ···\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 60 即为带锁时长，可自由修改")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" sub"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"w"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    ···\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);