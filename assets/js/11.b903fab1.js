(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{363:function(a,t,s){"use strict";s.r(t);var e=s(25),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"圣杯战争"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#圣杯战争"}},[a._v("#")]),a._v(" 圣杯战争")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("使用插件过程中，若需修改配置文件必须保证在 UTF-8 编码下保存。"),s("br"),a._v("\n若为 ANSI ，可使用 NotePad++ 编码 -> 转为 UTF-8")])]),a._v(" "),s("h2",{attrs:{id:"部署流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署流程"}},[a._v("#")]),a._v(" 部署流程")]),a._v(" "),s("h3",{attrs:{id:"解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[a._v("#")]),a._v(" 解压")]),a._v(" "),s("p",[a._v("将 "),s("a",{attrs:{href:"https://github.com/fz6m/nonebot-plugin/releases/download/0.12/HolyGrailWar.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("本插件"),s("OutboundLink")],1),a._v(" 下载解压，将解压得到的 "),s("code",[a._v("CQGrail")]),a._v(" 文件夹放在 酷Q 根目录下，为了保证路径不出错误，还要检查如下事项："),s("br"),a._v("\n保证你的 NoneBot 主程序 "),s("code",[a._v("main.py(这里假设为main.py)")]),a._v(" 和 "),s("code",[a._v("HolyGrailWar")]),a._v(" 文件夹在同一级目录，文件夹 "),s("code",[a._v("CQGrail")]),a._v(" 里已经包含了一个示例主程序 "),s("code",[a._v("main.py")]),a._v(" 可供参考，如果你还有其他插件，你可以直接把 "),s("code",[a._v("main.py")]),a._v(" 中有关导入本插件的部分拷贝进你的主程序 "),s("code",[a._v("_.py")]),a._v(" 文件。")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导入本插件")]),a._v("\n    nonebot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("load_plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n        path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("__file__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HolyGrailWar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HolyGrailWar'")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[a._v("#")]),a._v(" 安装依赖")]),a._v(" "),s("p",[a._v("本插件依赖加速处理 "),s("code",[a._v("json")]),a._v(" 库、时间处理库以及分词库，需要安装以下依赖：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("    pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" ujson\n    pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" python-dateutil\n    pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" jieba_fast\n")])])]),s("p",[a._v("注1：如果安装 "),s("code",[a._v("ujson")]),a._v(" 依赖失败，你可以在 "),s("a",{attrs:{href:"https://www.lfd.uci.edu/~gohlke/pythonlibs/#ujson",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),s("OutboundLink")],1),a._v(" 下载对应你 "),s("code",[a._v("python")]),a._v(" 版本和位数的 "),s("code",[a._v("ujson")]),a._v(" 安装包，之后执行本地安装即可：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("    pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" 本地 ujson 安装包"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(".whl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("路径\n")])])]),s("p",[a._v("注2：如果安装 "),s("code",[a._v("jieba_fast")]),a._v(" 快速分词库失败，可以参考 "),s("a",{attrs:{href:"https://blog.csdn.net/qq_21567385/article/details/104688274",target:"_blank",rel:"noopener noreferrer"}},[a._v("这篇文章"),s("OutboundLink")],1),a._v(" 解决安装失败可能的问题，全部问题解决完毕可能会占用你 "),s("code",[a._v("1")]),a._v(" 小时左右的时间以及 "),s("code",[a._v("8 G")]),a._v(" 的硬盘空间，但可以获得分词速度 "),s("code",[a._v("x 2")]),a._v(" 倍的收益。"),s("br"),a._v("\n如果你不愿意处理问题，并接受一定程度的低速处理，可以选择安装原版 "),s("code",[a._v("jieba")]),a._v(" 库：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("    pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" jieba\n")])])]),s("p",[a._v("安装完毕之后，在 "),s("code",[a._v("HolyGrailWar/matching.py")]),a._v(" 内修改前几行的库导入：")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 需要修改的行")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" jieba_fast "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" jieba\n")])])]),s("p",[a._v("修改后：")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# import jieba_fast as jieba")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" jieba\n")])])]),s("h3",{attrs:{id:"验证目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证目录结构"}},[a._v("#")]),a._v(" 验证目录结构")]),a._v(" "),s("p",[a._v("保证在你的 "),s("code",[a._v("HolyGrailWar")]),a._v(" 文件夹下，存在 "),s("code",[a._v("Config")]),a._v(" 和 "),s("code",[a._v("User")]),a._v(" 两个文件夹，且 "),s("code",[a._v("User")]),a._v(" 内结构如下：")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[a._v("    ━ User\n      ├ Battle\n      ├ Data\n      ├ Ranking\n      ├ SequenceCode\n      └ Servant\n")])])]),s("p",[a._v("其中所有文件夹均为空文件夹，未避免不必要的错误，在没有搞清楚具体配置文件结构前，请不要擅自往文件夹内加入文件。")]),a._v(" "),s("h3",{attrs:{id:"开始使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始使用"}},[a._v("#")]),a._v(" 开始使用")]),a._v(" "),s("p",[a._v("在群内使用 "),s("code",[a._v("帮助")]),a._v(" 命令即可开启用户导航，进行游戏。")]),a._v(" "),s("h3",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[a._v("#")]),a._v(" 配置文件")]),a._v(" "),s("p",[a._v("用户信息修改：使用后可以参照 "),s("code",[a._v("User")]),a._v(" 文件夹内的配置文件修改相应的参数。"),s("br"),a._v("\n用户信息增删：在不了解源码的情况下，请勿人为增加或删除配置文件内的信息。"),s("br"),a._v(" "),s("br"),a._v("\n核心配置修改：可以参照 "),s("code",[a._v("Config")]),a._v(" 文件夹内的配置文件修改相应的参数。"),s("br"),a._v("\n核心配置增删：在不了解源码的情况下，请参照已经出现过的结构增删信息块，否则可能出现错误。"),s("br")]),a._v(" "),s("h2",{attrs:{id:"了解源码结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#了解源码结构"}},[a._v("#")]),a._v(" 了解源码结构")]),a._v(" "),s("h3",{attrs:{id:"使用-debug-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-debug-模式"}},[a._v("#")]),a._v(" 使用 Debug 模式")]),a._v(" "),s("p",[a._v("可以通过 "),s("code",[a._v("Pycharm")]),a._v(" 或 "),s("code",[a._v("Vscode")]),a._v(" 的 Debug 调试模式打断点快速了解源码执行流程与函数。")]),a._v(" "),s("h3",{attrs:{id:"增删逻辑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增删逻辑"}},[a._v("#")]),a._v(" 增删逻辑")]),a._v(" "),s("p",[a._v("如需定义新的配置文件参数和功能，找到相应的功能函数修改相应的逻辑即可。")]),a._v(" "),s("h3",{attrs:{id:"定义自己的新功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定义自己的新功能"}},[a._v("#")]),a._v(" 定义自己的新功能")]),a._v(" "),s("p",[a._v("参照已有的 主功能函数 调用的 打包好的函数 与参数，自定义自己的新功能。"),s("br"),a._v("\n有时对 配置文件 的参数调用判断不是全面的，在使用时，请自行调试查清。")]),a._v(" "),s("h2",{attrs:{id:"文案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文案"}},[a._v("#")]),a._v(" 文案")]),a._v(" "),s("p",[a._v("感谢相关交流群的创意文案")])])}),[],!1,null,null,null);t.default=n.exports}}]);